{"openapi":"3.1.0","info":{"title":"Agri-Sense API","description":"Smart irrigation and crop recommendation system with enhanced real-time features","version":"0.3.0"},"paths":{"/sensors/live":{"get":{"summary":"Sensors Live","description":"Get live sensor data for real-time monitoring","operationId":"sensors_live_sensors_live_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"type":"string","default":"Z1","title":"Zone Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Sensors Live Sensors Live Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sensors/devices/status":{"get":{"summary":"Sensors Devices Status","description":"Get status of all connected sensor devices","operationId":"sensors_devices_status_sensors_devices_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Sensors Devices Status Sensors Devices Status Get"}}}}}}},"/sensors/pump/control":{"post":{"tags":["Real-time Sensors","Real-time Sensors"],"summary":"Control Pump","description":"Control irrigation pump on specified device\n\nArgs:\n    device_id: Target device ID\n    action: \"on\" or \"off\"\n    \nReturns:\n    Command status","operationId":"control_pump_sensors_pump_control_post","parameters":[{"name":"device_id","in":"query","required":true,"schema":{"type":"string","title":"Device Id"}},{"name":"action","in":"query","required":true,"schema":{"type":"string","title":"Action"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Control Pump Sensors Pump Control Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sensors/recommendations/live":{"get":{"tags":["Real-time Sensors","Real-time Sensors"],"summary":"Get Live Recommendations","description":"Get crop recommendations based on live sensor data\n\nArgs:\n    device_id: Optional device ID for specific location data\n    \nReturns:\n    Crop recommendations based on current sensor readings","operationId":"get_live_recommendations_sensors_recommendations_live_get","parameters":[{"name":"device_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Live Recommendations Sensors Recommendations Live Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sensors/soil-analysis/live":{"get":{"tags":["Real-time Sensors","Real-time Sensors"],"summary":"Get Live Soil Analysis","description":"Get soil analysis based on live sensor data\n\nArgs:\n    device_id: Optional device ID for specific location data\n    \nReturns:\n    Soil analysis based on current sensor readings","operationId":"get_live_soil_analysis_sensors_soil_analysis_live_get","parameters":[{"name":"device_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Live Soil Analysis Sensors Soil Analysis Live Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/health":{"get":{"tags":["VLM - Vision Language Model"],"summary":"VLM Health Check","description":"Check VLM system health","operationId":"vlm_health_api_vlm_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/vlm/crops":{"get":{"tags":["VLM - Vision Language Model"],"summary":"List All Supported Crops","description":"List all supported crops\n\n**Categories:**\n- cereal\n- pulse\n- oilseed\n- vegetable\n- fruit\n- cash_crop\n- spice","operationId":"list_crops_api_vlm_crops_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category (cereal, pulse, oilseed, etc.)","title":"Category"},"description":"Filter by category (cereal, pulse, oilseed, etc.)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CropListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/crops/{crop_name}":{"get":{"tags":["VLM - Vision Language Model"],"summary":"Get Crop Information","description":"Get detailed information about a specific crop\n\n**Parameters:**\n- crop_name: Name of the crop (e.g., \"rice\", \"wheat\", \"tomato\")","operationId":"get_crop_details_api_vlm_crops__crop_name__get","parameters":[{"name":"crop_name","in":"path","required":true,"schema":{"type":"string","title":"Crop Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CropInfoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/crops/{crop_name}/diseases":{"get":{"tags":["VLM - Vision Language Model"],"summary":"Get Disease Library for Crop","description":"Get all known diseases for a specific crop\n\nReturns detailed information about each disease including:\n- Symptoms\n- Causes\n- Treatment options\n- Prevention strategies","operationId":"get_disease_library_api_vlm_crops__crop_name__diseases_get","parameters":[{"name":"crop_name","in":"path","required":true,"schema":{"type":"string","title":"Crop Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/crops/{crop_name}/weeds":{"get":{"tags":["VLM - Vision Language Model"],"summary":"Get Weed Library for Crop","description":"Get all common weeds for a specific crop\n\nReturns detailed information about each weed including:\n- Identification characteristics\n- Control methods (chemical, organic, mechanical)\n- Competition impact\n- Vulnerable growth stages","operationId":"get_weed_library_api_vlm_crops__crop_name__weeds_get","parameters":[{"name":"crop_name","in":"path","required":true,"schema":{"type":"string","title":"Crop Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/analyze/disease":{"post":{"tags":["VLM - Vision Language Model"],"summary":"Analyze Plant Disease","description":"Analyze plant image for disease detection\n\n**Upload Requirements:**\n- Image format: JPG, JPEG, PNG\n- Image should show disease symptoms clearly\n- Close-up of affected plant parts preferred\n- Good lighting conditions\n\n**Returns:**\n- Disease identification\n- Severity assessment\n- Treatment recommendations\n- Prevention tips\n- Time-sensitive actions\n- Cost estimates (if requested)","operationId":"analyze_disease_api_vlm_analyze_disease_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_disease_api_vlm_analyze_disease_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiseaseAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/analyze/weed":{"post":{"tags":["VLM - Vision Language Model"],"summary":"Analyze Field Weeds","description":"Analyze field image for weed detection and control recommendations\n\n**Upload Requirements:**\n- Image format: JPG, JPEG, PNG\n- Field-level image showing crop and weeds\n- Clear view of ground cover\n- Adequate lighting\n\n**Control Methods:**\n- chemical: Herbicide-based control\n- organic: Natural/biological control\n- mechanical: Physical removal/cultivation\n\n**Returns:**\n- Weed identification\n- Infestation level\n- Control recommendations for all methods\n- Yield impact estimation\n- Best timing for control\n- Cost estimates (if requested)","operationId":"analyze_weeds_api_vlm_analyze_weed_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_weeds_api_vlm_analyze_weed_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeedAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/analyze/comprehensive":{"post":{"tags":["VLM - Vision Language Model"],"summary":"Comprehensive Analysis","description":"Comprehensive analysis - both disease and weed detection\n\n**Upload Requirements:**\n- plant_image: Close-up showing disease symptoms\n- field_image: Field view showing weed coverage\n- Both images: JPG, JPEG, or PNG format\n\n**Returns:**\n- Complete disease analysis\n- Complete weed analysis\n- Combined action plan\n- Prioritized recommendations\n- Cost estimates (if requested)","operationId":"analyze_comprehensive_api_vlm_analyze_comprehensive_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_comprehensive_api_vlm_analyze_comprehensive_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComprehensiveAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/status":{"get":{"summary":"Vlm Status","description":"Get VLM system status and capabilities\n\nReturns:\n    VLM system status information","operationId":"vlm_status_api_vlm_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Vlm Status Api Vlm Status Get"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Health"}}}}}}},"/live":{"get":{"summary":"Live","operationId":"live_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Health"}}}}}}},"/ready":{"get":{"summary":"Ready","operationId":"ready_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Ready Ready Get"}}}}}}},"/health/enhanced":{"get":{"summary":"Enhanced Health","description":"Enhanced health check including all system components","operationId":"enhanced_health_health_enhanced_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Enhanced Health Health Enhanced Get"}}}}}}},"/metrics":{"get":{"summary":"Get Metrics","description":"Prometheus metrics endpoint","operationId":"get_metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/status/websocket":{"get":{"summary":"Websocket Status","description":"Get WebSocket connection status","operationId":"websocket_status_status_websocket_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Websocket Status Status Websocket Get"}}}}}}},"/status/tensorflow-serving":{"get":{"summary":"Tensorflow Serving Status","description":"Get TensorFlow Serving status and model information","operationId":"tensorflow_serving_status_status_tensorflow_serving_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Tensorflow Serving Status Status Tensorflow Serving Get"}}}}}}},"/status/rate-limits":{"get":{"summary":"Rate Limit Status","description":"Get current rate limit status for the requesting client","operationId":"rate_limit_status_status_rate_limits_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Rate Limit Status Status Rate Limits Get"}}}}}}},"/admin/reset":{"post":{"summary":"Admin Reset","description":"Erase all stored data. Irreversible.","operationId":"admin_reset_admin_reset_post","parameters":[{"name":"x-admin-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Admin-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"boolean"},"title":"Response Admin Reset Admin Reset Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/weather/refresh":{"post":{"summary":"Admin Weather Refresh","operationId":"admin_weather_refresh_admin_weather_refresh_post","parameters":[{"name":"lat","in":"query","required":false,"schema":{"type":"number","default":27.3,"title":"Lat"}},{"name":"lon","in":"query","required":false,"schema":{"type":"number","default":88.6,"title":"Lon"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Days"}},{"name":"cache_path","in":"query","required":false,"schema":{"type":"string","default":"weather_cache.csv","title":"Cache Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Admin Weather Refresh Admin Weather Refresh Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/notify":{"post":{"summary":"Admin Notify","operationId":"admin_notify_admin_notify_post","parameters":[{"name":"title","in":"query","required":false,"schema":{"type":"string","default":"Test Alert","title":"Title"}},{"name":"message","in":"query","required":false,"schema":{"type":"string","default":"This is a test notification.","title":"Message"}},{"name":"x-admin-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Admin-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Admin Notify Admin Notify Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/edge/health":{"get":{"summary":"Edge Health","description":"Report basic availability of the optional Edge reader on the server.\nThis does not require the edge API process; it uses the SensorReader class if present.","operationId":"edge_health_edge_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Edge Health Edge Health Get"}}}}}}},"/ingest":{"post":{"summary":"Ingest","operationId":"ingest_ingest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorReading"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Response Ingest Ingest Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/edge/capture":{"post":{"summary":"Edge Capture","description":"Capture a reading using the local SensorReader (if available),\ningest it, and return the reading with a fresh recommendation.\nOptional body: {\"zone_id\":\"Z1\"}","operationId":"edge_capture_edge_capture_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Edge Capture Edge Capture Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recent":{"get":{"summary":"Get Recent","operationId":"get_recent_recent_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"type":"string","default":"Z1","title":"Zone Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Recent Recent Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recommend":{"post":{"summary":"Recommend","operationId":"recommend_recommend_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorReading"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recommendation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/suggest_crop":{"post":{"summary":"Suggest Crop","description":"Suggest high-yield crops for a given soil type and optional conditions.\nBody example: {\"soil_type\": \"loam\", \"ph\": 6.8, \"temperature\": 25, \"moisture\": 60}","operationId":"suggest_crop_suggest_crop_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuggestCropResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tank/level":{"post":{"summary":"Post Tank Level","operationId":"post_tank_level_tank_level_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TankLevel"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Response Post Tank Level Tank Level Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tank/status":{"get":{"summary":"Get Tank Status","operationId":"get_tank_status_tank_status_get","parameters":[{"name":"tank_id","in":"query","required":false,"schema":{"type":"string","default":"T1","title":"Tank Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TankStatus"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tank/history":{"get":{"summary":"Get Tank History","description":"Return recent tank level rows for sparkline/history consumers.","operationId":"get_tank_history_tank_history_get","parameters":[{"name":"tank_id","in":"query","required":false,"schema":{"type":"string","default":"T1","title":"Tank Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Tank History Tank History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/valves/events":{"get":{"summary":"Get Valve Events","operationId":"get_valve_events_valves_events_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zone Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Valve Events Valves Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboard/summary":{"get":{"summary":"Dashboard Summary","description":"Compact summary for the main dashboard to reduce roundtrips.","operationId":"dashboard_summary_dashboard_summary_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"type":"string","default":"Z1","title":"Zone Id"}},{"name":"tank_id","in":"query","required":false,"schema":{"type":"string","default":"T1","title":"Tank Id"}},{"name":"alerts_limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Alerts Limit"}},{"name":"events_limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Events Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Dashboard Summary Dashboard Summary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/irrigation/start":{"post":{"summary":"Irrigation Start","operationId":"irrigation_start_irrigation_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IrrigationCommand"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IrrigationAck"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/irrigation/stop":{"post":{"summary":"Irrigation Stop","operationId":"irrigation_stop_irrigation_stop_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IrrigationCommand"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IrrigationAck"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/alerts":{"get":{"summary":"Get Alerts","operationId":"get_alerts_alerts_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zone Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Alerts Alerts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Post Alert","operationId":"post_alert_alerts_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertItem"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"boolean"},"title":"Response Post Alert Alerts Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plants":{"get":{"summary":"Get Plants","description":"Return a combined list of crops from config and dataset labels.\nOutput shape: [{\"value\": \"rice\", \"label\": \"Rice\"}, ...]","operationId":"get_plants_plants_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlantsResponse"}}}}}}},"/soil/types":{"get":{"summary":"Get Soil Types","description":"Expose available soil types from config for data-driven selection in UI.","operationId":"get_soil_types_soil_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Soil Types Soil Types Get"}}}}}}},"/crops":{"get":{"summary":"Get Crops Full","operationId":"get_crops_full_crops_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CropsResponse"}}}}}}},"/chat":{"post":{"summary":"Chat","description":"Alias for chat/ask endpoint for simplified API access","operationId":"chat_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/ask":{"post":{"summary":"Chat Ask","operationId":"chat_ask_chat_ask_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/rainwater/log":{"post":{"summary":"Rainwater Log","operationId":"rainwater_log_rainwater_log_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Response Rainwater Log Rainwater Log Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/rainwater/summary":{"get":{"summary":"Rainwater Summary Api","operationId":"rainwater_summary_api_rainwater_summary_get","parameters":[{"name":"tank_id","in":"query","required":false,"schema":{"type":"string","default":"T1","title":"Tank Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rainwater Summary Api Rainwater Summary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/rainwater/recent":{"get":{"summary":"Rainwater Recent Api","operationId":"rainwater_recent_api_rainwater_recent_get","parameters":[{"name":"tank_id","in":"query","required":false,"schema":{"type":"string","default":"T1","title":"Tank Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rainwater Recent Api Rainwater Recent Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/alerts/ack":{"post":{"summary":"Alerts Ack","operationId":"alerts_ack_alerts_ack_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Response Alerts Ack Alerts Ack Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reco/recent":{"get":{"summary":"Get Reco Recent","operationId":"get_reco_recent_reco_recent_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"type":"string","default":"Z1","title":"Zone Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":200,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Reco Recent Reco Recent Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reco/log":{"post":{"summary":"Log Reco Snapshot","description":"Explicitly log a recommendation snapshot from the client.\nBody shape example:\n{\n    \"zone_id\":\"Z1\",\"plant\":\"rice\",\n    \"rec\": {\"water_liters\":123, \"expected_savings_liters\":45, \"fert_n_g\":10, \"fert_p_g\":5, \"fert_k_g\":8},\n    \"yield_potential\": 2.5\n}","operationId":"log_reco_snapshot_reco_log_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Log Reco Snapshot Reco Log Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/disease/detect":{"post":{"summary":"Detect Plant Disease","description":"Detect plant diseases in uploaded image\n\nArgs:\n    body: Image data and optional field information\n\nReturns:\n    Disease detection results with treatment recommendations","operationId":"detect_plant_disease_disease_detect_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Detect Plant Disease Disease Detect Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weed/analyze":{"post":{"summary":"Analyze Weeds","description":"Analyze weed infestation in field image using smart detection\n\nArgs:\n    body: Image data and optional field information\n\nReturns:\n    Weed analysis results with management recommendations","operationId":"analyze_weeds_weed_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Analyze Weeds Weed Analyze Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/disease/detect":{"post":{"summary":"Detect Disease Vlm","description":"Enhanced disease detection using Vision Language Model\n\nArgs:\n    body: Image data and field information\n    \nReturns:\n    Enhanced disease analysis with knowledge base integration","operationId":"detect_disease_vlm_api_disease_detect_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Detect Disease Vlm Api Disease Detect Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/weed/analyze":{"post":{"summary":"Analyze Weeds Vlm","description":"Enhanced weed analysis using Vision Language Model\n\nArgs:\n    body: Image data and field information\n    \nReturns:\n    Enhanced weed analysis with knowledge base integration","operationId":"analyze_weeds_vlm_api_weed_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Analyze Weeds Vlm Api Weed Analyze Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vlm/analyze":{"post":{"summary":"Comprehensive Vlm Analysis","description":"Comprehensive VLM analysis combining disease and weed detection\n\nArgs:\n    body: Image data and field information\n    \nReturns:\n    Comprehensive analysis with integrated recommendations","operationId":"comprehensive_vlm_analysis_api_vlm_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Comprehensive Vlm Analysis Api Vlm Analyze Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health/assess":{"post":{"summary":"Comprehensive Health Assessment","description":"Perform comprehensive plant health assessment including disease and weed analysis\n\nArgs:\n    body: Image data and optional field information\n\nReturns:\n    Complete health assessment with integrated recommendations","operationId":"comprehensive_health_assessment_health_assess_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Comprehensive Health Assessment Health Assess Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health/trends":{"get":{"summary":"Get Health Trends","description":"Get plant health trends from historical assessments\n\nArgs:\n    days_back: Number of days to analyze (default: 30)\n\nReturns:\n    Trend analysis and recommendations","operationId":"get_health_trends_health_trends_get","parameters":[{"name":"days_back","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days Back"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Health Trends Health Trends Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/frontend/analyze":{"post":{"summary":"Frontend Analyze","description":"Adapter endpoint for frontend components.\n\nExpected payload: { mode: 'disease' | 'weed', image_data: '<base64 payload or data URL>', crop_type?: str, field_info?: {}, environmental_data?: {} }\n\nReturns a canonical response with keys that the frontend expects (either disease or weed canonical schema).","operationId":"frontend_analyze_api_frontend_analyze_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Frontend Analyze Api Frontend Analyze Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health/status":{"get":{"summary":"Get Health System Status","description":"Get status of plant health monitoring system\n\nReturns:\n    System status and capabilities","operationId":"get_health_system_status_health_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Health System Status Health Status Get"}}}}}}},"/sensors/recent":{"get":{"summary":"Iot Sensors Recent","description":"Return recent sensor readings as a bare list, matching AGRISENSE_IoT expectations.\nFields are adapted to the IoT schema: soil_moisture, temperature_c, ph, ec_dS_m, tank_percent, timestamp.","operationId":"iot_sensors_recent_sensors_recent_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"type":"string","default":"Z1","title":"Zone Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Iot Sensors Recent Sensors Recent Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recommend/latest":{"get":{"summary":"Iot Recommend Latest","description":"Synthesize a latest recommendation document compatible with AGRISENSE_IoT frontend.\nIncludes: irrigate, recommended_liters, water_source, and a human \"notes\" string.","operationId":"iot_recommend_latest_recommend_latest_get","parameters":[{"name":"zone_id","in":"query","required":false,"schema":{"type":"string","default":"Z1","title":"Zone Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Iot Recommend Latest Recommend Latest Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/edge/ingest":{"post":{"summary":"Edge Ingest","description":"Accept sensor payloads from ESP32 and normalize to SensorReading.\nFlexible keys supported:\n  - soil_moisture or moisture_pct\n  - temp_c or temperature_c\n  - humidity (stored only for ML or future use; ignored for now)\n  - ph\n  - ec or ec_mScm (mS/cm). If provided in mS/cm, we convert to dS/m by dividing by 10.\n  - tank_percent (0..100) and optional tank_id, tank_volume_l","operationId":"edge_ingest_edge_ingest_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Response Edge Ingest Edge Ingest Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/arduino/ingest":{"post":{"summary":"Arduino Ingest","description":"Accept sensor data from Arduino Nano via serial bridge.\nExpected payload structure:\n{\n    \"device_id\": \"ARDUINO_NANO_01\",\n    \"device_type\": \"arduino_nano\", \n    \"timestamp\": \"2025-09-16T...\",\n    \"sensor_data\": {\n        \"temperatures\": {\"ds18b20\": 25.4, \"dht22\": 24.8},\n        \"humidity\": 65.2,\n        \"avg_temperature\": 25.1,\n        \"sensor_status\": {\"ds18b20\": true, \"dht22\": true}\n    }\n}","operationId":"arduino_ingest_arduino_ingest_post","parameters":[{"name":"x-admin-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Admin-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Arduino Ingest Arduino Ingest Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/arduino/status":{"get":{"summary":"Arduino Status","description":"Get status of connected Arduino devices","operationId":"arduino_status_arduino_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Arduino Status Arduino Status Get"}}}}}}},"/debug":{"get":{"summary":"Debug Page","description":"Debug page for disease detection testing","operationId":"debug_page_debug_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ui/{path}":{"get":{"summary":"Serve Spa","operationId":"serve_spa_ui__path__get","parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/simple-metrics":{"get":{"summary":"Get Simple Metrics","operationId":"get_simple_metrics_simple_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Simple Metrics Simple Metrics Get"}}}}}}},"/version":{"get":{"summary":"Version","operationId":"version_version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Version Version Get"}}}}}}},"/chatbot/ask":{"post":{"summary":"Chatbot Ask","operationId":"chatbot_ask_chatbot_ask_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatbotQuery"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Chatbot Ask Chatbot Ask Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Chatbot Ask Get","description":"GET alias for chatbot ask to simplify smoke testing via browser/tools.","operationId":"chatbot_ask_get_chatbot_ask_get","parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","title":"Question"}},{"name":"top_k","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Top K"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},{"name":"language","in":"query","required":false,"schema":{"type":"string","default":"en","title":"Language"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Chatbot Ask Get Chatbot Ask Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chatbot/greeting":{"get":{"summary":"Chatbot Greeting","description":"Get a friendly greeting message in the specified language.\nUseful for initializing chat sessions with a warm welcome.","operationId":"chatbot_greeting_chatbot_greeting_get","parameters":[{"name":"language","in":"query","required":false,"schema":{"type":"string","default":"en","title":"Language"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Chatbot Greeting Chatbot Greeting Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chatbot/metrics":{"get":{"summary":"Chatbot Metrics","description":"Return saved evaluation metrics (e.g., Recall@K) if available.","operationId":"chatbot_metrics_chatbot_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Chatbot Metrics Chatbot Metrics Get"}}}}}}},"/chatbot/reload":{"post":{"summary":"Chatbot Reload","description":"Force reload of chatbot artifacts from disk (after retraining).","operationId":"chatbot_reload_chatbot_reload_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":" "}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Chatbot Reload Chatbot Reload Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chatbot/tune":{"post":{"summary":"Chatbot Tune","description":"Adjust chatbot blending (alpha) and cosine threshold at runtime.","operationId":"chatbot_tune_chatbot_tune_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatbotTune"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Chatbot Tune Chatbot Tune Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AlertItem":{"properties":{"zone_id":{"type":"string","title":"Zone Id","default":"Z1"},"category":{"type":"string","title":"Category"},"message":{"type":"string","title":"Message"},"sent":{"type":"boolean","title":"Sent","default":false}},"type":"object","required":["category","message"],"title":"AlertItem"},"Body_analyze_comprehensive_api_vlm_analyze_comprehensive_post":{"properties":{"plant_image":{"type":"string","format":"binary","title":"Plant Image","description":"Close-up plant image for disease detection"},"field_image":{"type":"string","format":"binary","title":"Field Image","description":"Field image for weed detection"},"crop_name":{"type":"string","title":"Crop Name","description":"Name of the crop"},"growth_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Growth Stage","description":"Current crop growth stage"},"include_cost":{"type":"boolean","title":"Include Cost","description":"Include cost estimates","default":false}},"type":"object","required":["plant_image","field_image","crop_name"],"title":"Body_analyze_comprehensive_api_vlm_analyze_comprehensive_post"},"Body_analyze_disease_api_vlm_analyze_disease_post":{"properties":{"image":{"type":"string","format":"binary","title":"Image","description":"Plant image showing disease symptoms"},"crop_name":{"type":"string","title":"Crop Name","description":"Name of the crop (e.g., 'rice', 'wheat')"},"expected_diseases":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expected Diseases","description":"Comma-separated list of expected diseases"},"include_cost":{"type":"boolean","title":"Include Cost","description":"Include cost estimate","default":false}},"type":"object","required":["image","crop_name"],"title":"Body_analyze_disease_api_vlm_analyze_disease_post"},"Body_analyze_weeds_api_vlm_analyze_weed_post":{"properties":{"image":{"type":"string","format":"binary","title":"Image","description":"Field image showing weed infestation"},"crop_name":{"type":"string","title":"Crop Name","description":"Name of the crop"},"growth_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Growth Stage","description":"Current crop growth stage"},"preferred_control":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preferred Control","description":"Preferred control method: chemical, organic, mechanical"},"include_cost":{"type":"boolean","title":"Include Cost","description":"Include cost estimate","default":false}},"type":"object","required":["image","crop_name"],"title":"Body_analyze_weeds_api_vlm_analyze_weed_post"},"ChatRequest":{"properties":{"message":{"type":"string","title":"Message"},"zone_id":{"type":"string","title":"Zone Id","default":"Z1"}},"type":"object","required":["message"],"title":"ChatRequest"},"ChatResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"sources":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sources"}},"type":"object","required":["answer"],"title":"ChatResponse"},"ChatbotQuery":{"properties":{"question":{"type":"string","minLength":1,"title":"Question"},"top_k":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Top K","default":5},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for conversation tracking"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language code (en, hi, ta, te, kn)","default":"en"}},"type":"object","required":["question"],"title":"ChatbotQuery"},"ChatbotTune":{"properties":{"alpha":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Alpha"},"min_cos":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Cos"}},"type":"object","title":"ChatbotTune"},"ComprehensiveAnalysisResponse":{"properties":{"analysis_type":{"type":"string","title":"Analysis Type","default":"comprehensive"},"crop_name":{"type":"string","title":"Crop Name"},"disease_analysis":{"additionalProperties":true,"type":"object","title":"Disease Analysis"},"weed_analysis":{"additionalProperties":true,"type":"object","title":"Weed Analysis"},"combined_recommendations":{"items":{"type":"string"},"type":"array","title":"Combined Recommendations"},"priority_actions":{"items":{"type":"string"},"type":"array","title":"Priority Actions"},"estimated_time_to_action":{"type":"string","title":"Estimated Time To Action"},"success_probability":{"type":"number","title":"Success Probability"},"cost_estimate":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Cost Estimate"}},"type":"object","required":["crop_name","disease_analysis","weed_analysis","combined_recommendations","priority_actions","estimated_time_to_action","success_probability"],"title":"ComprehensiveAnalysisResponse","description":"Response for comprehensive analysis"},"CropCard":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"scientificName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scientificname"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"season":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Season"},"waterRequirement":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Waterrequirement"},"tempRange":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Temprange"},"phRange":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phrange"},"growthPeriod":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Growthperiod"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tips":{"items":{"type":"string"},"type":"array","title":"Tips"}},"type":"object","required":["id","name"],"title":"CropCard"},"CropInfoResponse":{"properties":{"name":{"type":"string","title":"Name"},"scientific_name":{"type":"string","title":"Scientific Name"},"category":{"type":"string","title":"Category"},"growth_stages":{"items":{"type":"string"},"type":"array","title":"Growth Stages"},"optimal_conditions":{"additionalProperties":true,"type":"object","title":"Optimal Conditions"},"regional_importance":{"items":{"type":"string"},"type":"array","title":"Regional Importance"},"common_diseases":{"items":{"type":"string"},"type":"array","title":"Common Diseases"},"common_weeds":{"items":{"type":"string"},"type":"array","title":"Common Weeds"}},"type":"object","required":["name","scientific_name","category","growth_stages","optimal_conditions","regional_importance","common_diseases","common_weeds"],"title":"CropInfoResponse","description":"Response for crop information"},"CropListResponse":{"properties":{"total_crops":{"type":"integer","title":"Total Crops"},"categories":{"additionalProperties":true,"type":"object","title":"Categories"},"crops":{"items":{"type":"string"},"type":"array","title":"Crops"}},"type":"object","required":["total_crops","categories","crops"],"title":"CropListResponse","description":"Response for listing crops"},"CropSuggestion":{"properties":{"crop":{"type":"string","title":"Crop"},"suitability_score":{"type":"number","title":"Suitability Score"},"expected_yield":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Expected Yield"}},"type":"object","required":["crop","suitability_score"],"title":"CropSuggestion"},"CropsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CropCard"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"CropsResponse"},"DiseaseAnalysisResponse":{"properties":{"analysis_type":{"type":"string","title":"Analysis Type","default":"disease"},"crop_name":{"type":"string","title":"Crop Name"},"disease_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Disease Name"},"confidence":{"type":"number","title":"Confidence"},"severity":{"type":"string","title":"Severity"},"affected_area_percentage":{"type":"number","title":"Affected Area Percentage"},"symptoms_detected":{"items":{"type":"string"},"type":"array","title":"Symptoms Detected"},"treatment_recommendations":{"items":{"type":"string"},"type":"array","title":"Treatment Recommendations"},"prevention_tips":{"items":{"type":"string"},"type":"array","title":"Prevention Tips"},"priority_actions":{"items":{"type":"string"},"type":"array","title":"Priority Actions"},"estimated_time_to_action":{"type":"string","title":"Estimated Time To Action"},"urgent_action_required":{"type":"boolean","title":"Urgent Action Required"},"success_probability":{"type":"number","title":"Success Probability"},"cost_estimate":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Cost Estimate"}},"type":"object","required":["crop_name","disease_name","confidence","severity","affected_area_percentage","symptoms_detected","treatment_recommendations","prevention_tips","priority_actions","estimated_time_to_action","urgent_action_required","success_probability"],"title":"DiseaseAnalysisResponse","description":"Response for disease analysis"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Health":{"properties":{"status":{"type":"string","title":"Status"}},"type":"object","required":["status"],"title":"Health"},"ImageUpload":{"properties":{"image_data":{"type":"string","title":"Image Data","description":"Base64 encoded image data"},"field_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Field Info","description":"Optional field metadata"},"crop_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Crop Type","description":"Type of crop being analyzed","default":"unknown"},"environmental_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Environmental Data","description":"Environmental sensor data for enhanced analysis"}},"type":"object","required":["image_data"],"title":"ImageUpload","description":"Image data for plant health analysis"},"IrrigationAck":{"properties":{"ok":{"type":"boolean","title":"Ok"},"status":{"type":"string","title":"Status"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"}},"type":"object","required":["ok","status"],"title":"IrrigationAck"},"IrrigationCommand":{"properties":{"zone_id":{"type":"string","title":"Zone Id","default":"Z1"},"duration_s":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration S"},"force":{"type":"boolean","title":"Force","default":false}},"type":"object","title":"IrrigationCommand"},"PlantItem":{"properties":{"value":{"type":"string","title":"Value"},"label":{"type":"string","title":"Label"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},"type":"object","required":["value","label"],"title":"PlantItem"},"PlantsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PlantItem"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"PlantsResponse"},"Recommendation":{"properties":{"water_liters":{"type":"number","title":"Water Liters"},"fert_n_g":{"type":"number","title":"Fert N G"},"fert_p_g":{"type":"number","title":"Fert P G"},"fert_k_g":{"type":"number","title":"Fert K G"},"water_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Water Source"},"notes":{"items":{"type":"string"},"type":"array","title":"Notes"},"tips":{"items":{"type":"string"},"type":"array","title":"Tips"},"expected_savings_liters":{"type":"number","title":"Expected Savings Liters"},"expected_cost_saving_rs":{"type":"number","title":"Expected Cost Saving Rs"},"expected_co2e_kg":{"type":"number","title":"Expected Co2E Kg"},"water_per_m2_l":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Water Per M2 L"},"water_buckets_15l":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Water Buckets 15L"},"irrigation_cycles":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Irrigation Cycles"},"suggested_runtime_min":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Suggested Runtime Min"},"assumed_flow_lpm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Assumed Flow Lpm"},"best_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Best Time"},"fertilizer_equivalents":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Fertilizer Equivalents"},"target_moisture_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Moisture Pct"}},"additionalProperties":true,"type":"object","required":["water_liters","fert_n_g","fert_p_g","fert_k_g","notes","expected_savings_liters","expected_cost_saving_rs","expected_co2e_kg"],"title":"Recommendation"},"SensorReading":{"properties":{"zone_id":{"type":"string","title":"Zone Id","default":"Z1"},"plant":{"type":"string","title":"Plant","default":"generic"},"soil_type":{"type":"string","title":"Soil Type","default":"loam"},"area_m2":{"type":"number","maximum":100000.0,"exclusiveMinimum":0.0,"title":"Area M2","default":100.0},"ph":{"type":"number","maximum":9.5,"minimum":3.5,"title":"Ph","default":6.5},"moisture_pct":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Moisture Pct","default":35.0},"temperature_c":{"type":"number","maximum":60.0,"minimum":-20.0,"title":"Temperature C","default":28.0},"ec_dS_m":{"type":"number","maximum":10.0,"minimum":0.0,"title":"Ec Ds M","default":1.0},"n_ppm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"N Ppm"},"p_ppm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"P Ppm"},"k_ppm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"K Ppm"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"}},"type":"object","title":"SensorReading"},"SuggestCropResponse":{"properties":{"soil_type":{"type":"string","title":"Soil Type"},"top":{"items":{"$ref":"#/components/schemas/CropSuggestion"},"type":"array","title":"Top"}},"type":"object","required":["soil_type","top"],"title":"SuggestCropResponse"},"TankLevel":{"properties":{"tank_id":{"type":"string","title":"Tank Id","default":"T1"},"level_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Level Pct"},"volume_l":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Volume L"},"rainfall_mm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rainfall Mm"}},"type":"object","title":"TankLevel"},"TankStatus":{"properties":{"tank_id":{"type":"string","title":"Tank Id"},"level_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Level Pct"},"volume_l":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Volume L"},"last_update":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Update"},"capacity_liters":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Capacity Liters"}},"type":"object","required":["tank_id"],"title":"TankStatus"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WeedAnalysisResponse":{"properties":{"analysis_type":{"type":"string","title":"Analysis Type","default":"weed"},"crop_name":{"type":"string","title":"Crop Name"},"weeds_identified":{"items":{"type":"string"},"type":"array","title":"Weeds Identified"},"infestation_level":{"type":"string","title":"Infestation Level"},"weed_coverage_percentage":{"type":"number","title":"Weed Coverage Percentage"},"control_recommendations":{"additionalProperties":true,"type":"object","title":"Control Recommendations"},"priority_level":{"type":"string","title":"Priority Level"},"estimated_yield_impact":{"type":"string","title":"Estimated Yield Impact"},"best_control_timing":{"items":{"type":"string"},"type":"array","title":"Best Control Timing"},"priority_actions":{"items":{"type":"string"},"type":"array","title":"Priority Actions"},"estimated_time_to_action":{"type":"string","title":"Estimated Time To Action"},"multiple_weeds_detected":{"type":"boolean","title":"Multiple Weeds Detected"},"success_probability":{"type":"number","title":"Success Probability"},"cost_estimate":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Cost Estimate"}},"type":"object","required":["crop_name","weeds_identified","infestation_level","weed_coverage_percentage","control_recommendations","priority_level","estimated_yield_impact","best_control_timing","priority_actions","estimated_time_to_action","multiple_weeds_detected","success_probability"],"title":"WeedAnalysisResponse","description":"Response for weed analysis"}}}}
