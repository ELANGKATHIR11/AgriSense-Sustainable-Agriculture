# AgriSense Enhanced Configuration
# Copy this file to .env and configure for your environment

# === Database Configuration ===
# Database type: sqlite, postgresql
AGRISENSE_DB_TYPE=postgresql
AGRISENSE_DATABASE_URL=postgresql+asyncpg://agrisense:password@localhost:5432/agrisense
AGRISENSE_DATABASE_URL_SYNC=postgresql://agrisense:password@localhost:5432/agrisense

# Legacy SQLite (fallback)
AGRISENSE_DB=sqlite

# === Redis Configuration ===
AGRISENSE_REDIS_URL=redis://localhost:6379/0
AGRISENSE_CACHE_TTL=300

# === Authentication & Security ===
AGRISENSE_JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
AGRISENSE_ADMIN_TOKEN=your-admin-token-change-this

# === Rate Limiting ===
AGRISENSE_DISABLE_RATE_LIMITING=0
AGRISENSE_RATE_LIMIT_REDIS_URL=redis://localhost:6379/1

# === Machine Learning ===
AGRISENSE_DISABLE_ML=0
AGRISENSE_MODEL_PATH=./models
AGRISENSE_USE_TENSORFLOW_SERVING=0
TENSORFLOW_SERVING_URL=http://localhost:8501

# === API Configuration ===
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173
AGRISENSE_ALERT_ON_RECOMMEND=1
AGRISENSE_LOG_RECO=1

# === Weather Service ===
AGRISENSE_LAT=27.3
AGRISENSE_LON=88.6
AGRISENSE_WEATHER_CACHE=weather_cache.csv
WEATHER_API_KEY=your-weather-api-key

# === MQTT Configuration ===
MQTT_BROKER=localhost
MQTT_PORT=1883
MQTT_TOPIC=agrisense/sensors
MQTT_USERNAME=
MQTT_PASSWORD=

# === External Services ===
# Google Gemini API
GOOGLE_API_KEY=your-google-api-key

# OpenAI API
OPENAI_API_KEY=your-openai-api-key

# === Monitoring & Logging ===
LOG_LEVEL=INFO
METRICS_ENABLED=1
HEALTH_CHECK_INTERVAL=30

# === Development ===
DEBUG=0
DEVELOPMENT_MODE=0
RELOAD_ON_CHANGE=0

# === Background Tasks ===
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/3
BACKGROUND_TASKS_ENABLED=1

# === File Storage ===
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,csv,json

# === Backup Configuration ===
BACKUP_ENABLED=1
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# === Performance ===
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
REDIS_POOL_SIZE=10
WORKER_PROCESSES=1
MAX_REQUESTS_PER_PROCESS=1000

# === WebSocket Configuration ===
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_MESSAGE_QUEUE_SIZE=100